<div class="modal-header  thead-light" style="background-color: #58bba9;">
    <h5 class="modal-title text-white" id="exampleModalLabel">InformaciÃ³n de la Empresa</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body table-responsive">
    <div class="card shadow-lg border-0 rounded-3">
    
        <!-- Cuerpo -->
        <div class="card-body">
        <ul class="list-group list-group-flush" id="company-info">
            <li class="list-group-item"><strong>Nombre:</strong> {{ company.name }}</li>
            <li class="list-group-item"><strong>Propietario:</strong> {{ company.user.username }}</li>
            <li class="list-group-item"><strong>Fecha de registro:</strong> {{ company.date_joined }}</li>
            <li class="list-group-item"><strong>Fecha expiraciÃ³n:</strong> {{ company.expiration_date }}</li>
            <li class="list-group-item"><strong>Plan:</strong> {{ company.plan.name }}</li>
            <li class="list-group-item"><strong>Dominio:</strong>
            <input type="text" class="form-control" id="registered-url" value="{{ initial_url }}" readonly>
            </li>
        </ul>
        </div>
    </div>      
</div>
<div class="modal-footer">
    <button class="btn btn-outline-primary copy-info" type="button">ðŸ“‹ Copiar InformaciÃ³n</button>
</div>

<script>
    $(document).ready(function(){
        $(".copy-info").click(function(){
            var $btn = $(this);
            var originalText = $btn.text();
    
            // Tomar todo el contenido de #company-info
            var textToCopy = "";
            $("#company-info li").each(function(){
                var input = $(this).find("input");
                if(input.length){
                    textToCopy += input.val() + "\n";
                } else {
                    textToCopy += $(this).text().trim() + "\n";
                }
            });
    
            // Copiar al portapapeles usando API moderna
            navigator.clipboard.writeText(textToCopy).then(function(){
                // Cambiar botÃ³n temporalmente
                $btn.text("âœ… Copiado").prop("disabled", true);
                setTimeout(function(){
                    $btn.text(originalText).prop("disabled", false);
                }, 2000);
            }).catch(function(err){
                alert("No se pudo copiar: " + err);
            });
        });
    });
    </script>    